$(document).ready((function(){function t(){window.location.href="/checkout"}function a(){$("body").addClass("modal-open"),$(".cart").addClass("active"),$(".overlay-cart").fadeIn(),$(".items-cart").html(" "),$(".shopify-section, .box-header, .box-top-header").addClass("blur-effect"),$.getJSON("/cart.js",(function(t){$(".cart-number-custom1").html(t.item_count),console.log(t),t.total_discount>0?($(".box-text-savings-cart").show(),$(".box-text-savings-cart span").text(Shopify.formatMoney(value.price))):$(".box-text-savings-cart").hide(),t.items.length>0&&($.each(t.items,(function(t,a){if(a.variant_title)var e=`\n                        <div class="box-item-cart-text">\n                            <p>${a.variant_title}</p>\n                        </div>\n                    `;else e="";a.selling_plan_allocation,console.log("#item-cart-footer"+a.product_id),$("#item-cart-footer"+a.product_id).remove(),$(".items-cart").append(`\n                    <div class="item-cart item-cart${a.variant_id} ${a.variant_id} item-cart${a.product_id}">\n                        <div class="item-cart-img">\n                            <img src="${a.featured_image.url}" alt="">\n                        </div>\n                        <div class="item-cart-content">\n                            <h3 class="item-cart-title">${a.product_title}</h3>\n                            <div class="box-item-cart-text">\n                                <p></p>\n                            </div>\n                            ${e}\n                            <div class="box-price-item-cart">\n                                <span class="price-normal-cart">${Shopify.formatMoney(a.price)}</span>\n                            </div>\n                            <div class="box-quantity-item-cart">\n                                <h4 class="item-cart-title-quantity">Quantity</h4>\n                                <div class="box-quantity">\n                                    <span class="minus minus-minus" data-id="${a.id}">-</span>\n                                    <input type="number" name="cant_products" id="" value="${a.quantity}" readonly>\n                                    <span class="plus more" data-id="${a.id}">+</span>\n                                </div>\n                                <button class="btn-delete-item-cart" data-id="${a.variant_id}"><img src="${imgBtnDelete}" alt=""></button>\n                            </div>\n                            <input type="hidden" name="form_type" value="product">\n                            <input type="hidden" name="utf8" value="âœ“">\n                            <input type="hidden" name="id" id="value_product" value="${a.id}">\n                        </div>\n                    </div>\n                `)})),$(".total-cart").text(Shopify.formatMoney(t.total_price)))}))}$("body").delegate(".btn-cart-add-product","click",(function(e){e.preventDefault();var n=$(this).attr("data-productid"),r=($(this).attr("data-productidnovariant"),$(this).attr("data-quantity")),o=$(this).attr("data-action");!function(e,n,r,o,c){$("#"+e);var i={id:r,quantity:o},s=function(t){var a=t.serializeArray(),e={};return $.map(a,(function(t,a){e[t.name]=t.value})),e}($("#form_product"));console.log(s),$(".cart").removeClass("cart-empty"),"cart2"==n?$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:i,success:a,error:Shopify.onError}):"checkout2"==n?$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:i,success:t,error:Shopify.onError}):null==s.selling_plan?$.getJSON("/cart.js",(function(e){$(".number-items-cart").html(e.item_count),0==e.item_count?"checkout"==n?$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:i,success:t,error:Shopify.onError}):$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:s,success:a,error:Shopify.onError}):(setTimeout((function(){jQuery.getJSON("/cart.js",(function(t){$(".cart-number-custom1").html(t.item_count)}))}),0),setTimeout((()=>{"checkout"==n?$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:i,success:t,error:Shopify.onError}):$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:s,success:a,error:Shopify.onError})}),500))})):$.getJSON("/cart.js",(function(e){$(".number-items-cart").html(e.item_count),0==e.item_count?$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:s,success:t,error:Shopify.onError}):(setTimeout((function(){jQuery.getJSON("/cart.js",(function(t){$(".cart-number-custom1").html(t.item_count)}))}),0),setTimeout((()=>{$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:s,success:a,error:Shopify.onError})}),500))}))}(o,o,n,r)})),$("#open-cart").click((function(t){t.preventDefault(),a()})),$(".items-cart").on("click",".more",(function(){var t=$(this).data("id");valueInput=parseInt($(".item-cart"+t+' input[name="cant_products"]').val());var a=valueInput+parseInt(1);$.post("/cart/update.js","updates["+t+"]="+a),$(".item-cart"+t+' input[name="cant_products"]').val(valueInput+1),$(".cart-number-custom1").html(a),setTimeout((()=>{$.getJSON("/cart.js",(function(t){$(".total-cart").text(Shopify.formatMoney(t.total_price))}))}),300)})),$(".items-cart").on("click",".minus-minus",(function(t){t.preventDefault();var a=$(this).data("id");if(valueInput=parseInt($(".item-cart"+a+' input[name="cant_products"]').val()),1!=valueInput){var e=valueInput-parseInt(1);$.post("/cart/update.js","updates["+a+"]="+e),$(".item-cart"+a+' input[name="cant_products"]').val(valueInput-1),$(".cart-number-custom1").html(e),setTimeout((()=>{$.getJSON("/cart.js",(function(t){$(".total-cart").text(Shopify.formatMoney(t.total_price))}))}),300)}})),$(".items-cart").on("click",".btn-delete-item-cart",(function(t){t.preventDefault(),console.log($(this));var a=$(this).data("id");$.post("/cart/update.js","updates["+a+"]=0"),setTimeout((function(){jQuery.getJSON("/cart.js",(function(t){$(".cart-number-custom1").html(t.item_count),$(".item-cart"+a).hide("slow"),"37554090377372"==a&&$("#btn-checkout").attr("href","/checkout"),$(".total-cart").text(Shopify.formatMoney(t.total_price)),console.log(t.item_count),console.log(typeof t.item_count)}))}),300),setTimeout((()=>{$.getJSON("/cart.js",(function(t){console.log("Test"+t.item_count),0!=t.item_count&&"0"!=t.item_count||($(".cart-sidebar-body-fully").hide(),$(".cart-sidebar-body-empty").show().css("display","flex"),$(".cart-sidebar-footer").addClass("cart-sidebar-footer-empty")),$(".cart-number-custom1").html(t.item_count),$(".total-cart").text(Shopify.formatMoney(t.total_price))}))}),700)}))}));